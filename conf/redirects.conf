server {

	listen 0.0.0.0:8007;
	client_max_body_size 1g;
	server_name example.com;
	root ./;
	autoindex on;
	use_chunked_encoding true;
	chunk_size 100;
	allowed_redirects 302 https://www.google.com;

	location / {
		allowed_methods GET;
		index	html/index.html;
	}

# Main site and directory listing test
	location /assets/ {
		root ./;
		index index.html;
		allowed_methods GET;
		autoindex off;
	}

	# Main site and directory listing test
	location /POST/ {
		allowed_methods POST;
		upload_dir	uploads;
		autoindex on;
	}

	location /cgi-bin/ {
		root ./;
		allowed_methods GET POST;
		cgi_path /usr/bin/python3 /usr/bin/perl;
		cgi_ext .py .pl;
		autoindex off;
		upload_dir	uploads;
	}

	location /redirect2/ {
		allowed_redirects 301 https://www.google.com;
		allowed_methods GET;
	}
}

server {

	listen 0.0.0.0:8008;
	client_max_body_size 1g;
	server_name example.com;
	root ./;
	autoindex on;
	use_chunked_encoding true;
	chunk_size 100;
	allowed_redirects 301 https://www.google.com;

	location / {
		allowed_methods GET;
		index	html/index.html;
	}

# Main site and directory listing test
	location /assets/ {
		root ./;
		index index.html;
		allowed_methods GET;
		autoindex off;
	}

	# Main site and directory listing test
	location /POST/ {
		allowed_methods POST;
		upload_dir	uploads;
		autoindex on;
	}

	location /cgi-bin/ {
		root ./;
		allowed_methods GET POST;
		cgi_path /usr/bin/python3 /usr/bin/perl;
		cgi_ext .py .pl;
		autoindex off;
		upload_dir	uploads;
	}

	location /redirect2/ {
		allowed_redirects 302 https://www.google.com;
		allowed_methods GET;
	}
}