<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebServ Test Suite</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
        <h1>WebServ Test Suite</h1>
        <p>C++98 HTTP server test suite</p>
    </div>

    <div class="section">
        <h2>File Type Tests <span class="method-badge">GET</span></h2>
        <div>
            <h3>Images</h3>
            <a href="/assets/test.jpg" class="btn">JPEG</a>
            <a href="/assets/test.png" class="btn">PNG</a>
            <a href="/assets/test.gif" class="btn">GIF</a>
            <a href="/assets/webserver.png" class="btn">Logo</a>

            <h3>Documents</h3>
            <a href="/assets/test.txt" class="btn">TXT</a>
            <a href="/assets/test.json" class="btn">JSON</a>
        </div>
    </div>

    <div class="section">
        <h2>HTTP Methods</h2>
        
        <h3>POST <span class="method-badge">POST</span></h3>
        <form action="/POST/" method="POST">
            <div class="form-group">
                <input type="text" name="message" placeholder="Enter message" required>
            </div>
            <button type="submit">Send</button>
        </form>

        <h3>DELETE <span class="method-badge">DELETE</span></h3>
        <div class="form-group">
            <input type="text" id="deleteUrl" placeholder="/uploads/filename.txt">
        </div>
		<button onclick="deleteResource()" class="btn">Delete</button>
    </div>

    <div class="section">
        <h2>File Upload <span class="method-badge">POST</span></h2>
        <form action="/POST/" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <input type="file" name="file" required>
            </div>
            <button type="submit">Upload</button>
        </form>
    </div>

	<div class="section">
        <h2>Cookies</h2>
        <a href="/customCookiesEndpoint/CookiesPage" class="btn">Cookies Page</a>
    </div>

	<div class="section">
		<h2>Directory Listing</h2>
		<a href="/uploads/" class="btn">autodirlisting</a>
	</div>

	<div class="section">
		<h2>CGI Tests</h2>
		
		<h3>Infinite Python CGI Script <span class="method-badge">GET</span></h3>
		<form action="/cgi-bin/infinite_loop.py" method="GET">
			<button type="submit" class="btn">Run infinite.py</button>
		</form>
	
	
		<h3>CGI File Upload Test <span class="method-badge">POST</span></h3>
		<form action="/cgi-bin/upload.py" method="POST" enctype="multipart/form-data">
			<div class="form-group">
				<input type="file" id="cgi_file" name="file" required>
			</div>
			<div class="form-group">
				<input type="text" id="cgi_comment" name="comment" placeholder="Optional comment">
			</div>
			<button type="submit" class="btn">Upload via CGI</button>
		</form>

		<h3>Python CGI <span class="method-badge">GET</span></h3>
		<form action="/cgi-bin/name.py" method="GET">
			<div class="form-group">
				<input type="text" id="pyname" name="name" placeholder="Enter your name" required>
			</div>
			<button type="submit" class="btn">Execute Python CGI</button>
		</form>
	
		<h3>Perl CGI <span class="method-badge">GET</span></h3>
		<form action="/cgi-bin/name.pl" method="GET">
			<div class="form-group">
				<input type="text" id="perl_name" name="name" placeholder="Enter your name" required>
			</div>
			<button type="submit" class="btn">Execute Perl CGI</button>
		</form>

		<h3>CGI Error Test <span class="method-badge">GET</span></h3>
		<form action="/cgi-bin/error.pl" method="GET">
			<button type="submit" class="btn">Execute error.pl</button>
		</form>
	</div>
    <script>
        function deleteResource() {
            const path = document.getElementById('deleteUrl').value;
            if (!path) {
                alert('Please enter a path');
                return;
            }
            fetch(path, { method: 'DELETE' })
                .then(response => alert(`Status: ${response.status} ${response.statusText}`))
                .catch(error => alert('Error: ' + error));
        }
    </script>
	<style>
		@import url('https://fonts.cdnfonts.com/css/jetbrains-mono-2');

		:root {
		--font-family: "JetBrains Mono", monospace;
		--line-height: 1.20rem;
		--border-thickness: 2px;
		--text-color: #000;
		--text-color-alt: #666;
		--background-color: #fff;
		--background-color-alt: #eee;
		--font-weight-normal: 500;
		--font-weight-medium: 600;
		--font-weight-bold: 800;
		}

		body {
			font-family: var(--font-family);
			font-weight: var(--font-weight-normal);
			color: var(--text-color);
			background-color: var(--background-color);
			max-width: 1000px;
			margin: 0 auto;
			padding: 2rem;
		}

		.header {
			border-bottom: var(--border-thickness) solid var(--text-color);
			margin-bottom: 2rem;
		}

		.section {
			border: var(--border-thickness) solid var(--text-color);
			padding: 1rem;
			margin-bottom: 1rem;
		}

		.method-badge {
			background: var(--background-color-alt);
			padding: 0.2rem 0.5rem;
			font-size: 0.8rem;
		}

		button, .btn {
			font-family: var(--font-family);
			background: var(--text-color);
			color: var(--background-color);
			border: none;
			padding: 0.5rem 1rem;
			cursor: pointer;
			text-decoration: none;
			display: inline-block;
		}

		input, select {
			font-family: var(--font-family);
			border: var(--border-thickness) solid var(--text-color);
			padding: 0.5rem;
			margin: 0.5rem 0;
			width: 50%;
		}

		.form-group {
			margin-bottom: 1rem;
		}
	</style>
</body>
</html>
